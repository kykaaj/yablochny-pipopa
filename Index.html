<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Личностный тест: Main 6</title>
    <style>
        :root {
            --bg-color: #202124;
            --card-color: #2d2e33;
            --text-color: #e8eaed;
            --sub-text: #9aa0a6;
            --accent: #8ab4f8;
            --accent-hover: #aecbfa;
            --border: #3c4043;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            background-color: var(--card-color);
            border-radius: 16px;
            width: 100%;
            max-width: 640px;
            padding: 40px;
            box-shadow: 0 4px 24px rgba(0,0,0,0.3);
        }

        h1 { font-size: 1.8rem; text-align: center; margin-bottom: 10px; font-weight: 600; }
        p.subtitle { text-align: center; color: var(--sub-text); margin-top: 0; margin-bottom: 40px; font-size: 0.95rem; }

        .progress-bar { width: 100%; height: 4px; background-color: var(--border); border-radius: 2px; margin-bottom: 30px; overflow: hidden; }
        .progress-fill { height: 100%; background-color: var(--accent); width: 0%; transition: width 0.3s ease; }

        .question-text { font-size: 1.15rem; margin-bottom: 30px; font-weight: 500; }
        .options { display: flex; flex-direction: column; gap: 12px; }

        button {
            background-color: transparent;
            border: 1px solid var(--border);
            color: var(--text-color);
            padding: 16px 20px;
            border-radius: 12px;
            cursor: pointer;
            text-align: left;
            transition: all 0.2s ease;
            font-size: 0.95rem;
        }

        button:hover { background-color: rgba(138, 180, 248, 0.1); border-color: var(--accent); }
        .hidden { display: none; }

        .result-box { text-align: center; animation: fadeIn 0.6s ease; }
        .result-img { width: 100%; max-width: 280px; height: auto; border-radius: 12px; margin: 20px 0; }
        .stats { text-align: left; margin-top: 30px; padding-top: 20px; border-top: 1px solid var(--border); font-size: 0.9rem; color: var(--sub-text); }
        .stat-row { display: flex; justify-content: space-between; margin-bottom: 6px; }
        .btn-restart { margin-top: 30px; width: 100%; text-align: center; background-color: var(--accent); color: var(--bg-color); font-weight: 600; border: none; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

<div class="container" id="quiz-container">
    <h1>Кто ты из Main 6?</h1>
    <p class="subtitle">Психологический профиль через призму быта и интернета.</p>
    
    <div id="quiz-ui">
        <div class="progress-bar"><div class="progress-fill" id="progress"></div></div>
        <div class="question-text" id="question">Загрузка...</div>
        <div class="options" id="options"></div>
    </div>

    <div id="result-ui" class="hidden result-box">
        <h2 id="result-title"></h2>
        <img id="result-image" class="result-img" src="" alt="Result">
        <p id="result-desc" style="text-align: left;"></p>
        <div class="stats" id="stats-box"></div>
        <button class="btn-restart" onclick="location.reload()">Пройти заново</button>
    </div>
</div>

<script>
    const questions = [
        // --- Блок Ролевых и SillyTavern ---
        {
            t: "Твой типичный пост в ролевой это...",
            a: [
                { text: "Полотно с анализом чувств и деталями окружения.", s: { RA: 3, TW: 1 } },
                { text: "Краткое описание действия и четкая реплика.", s: { AJ: 3, RD: 1 } },
                { text: "Пост, который двигает сюжет вперед, создавая экшен.", s: { RD: 3, PP: 1 } },
                { text: "Мягкий, эмоциональный ответ, подстраивающийся под сорола.", s: { FL: 3 } }
            ]
        },
        {
            t: "Как ты выбираешь карточку персонажа для чата?",
            a: [
                { text: "Изучаю настройки, лор и примеры диалогов. Всё должно быть логично.", s: { TW: 3 } },
                { text: "Смотрю только на арт. Если персонаж красивый — берем.", s: { RA: 3 } },
                { text: "Ищу что-то веселое или необычное для фановых ситуаций.", s: { PP: 3 } },
                { text: "Беру проверенных временем «классических» персонажей.", s: { AJ: 2, FL: 1 } }
            ]
        },
        {
            t: "Бот в Таверне выдал очень странный, нелогичный ответ.",
            a: [
                { text: "Иду в настройки (Regex, пресеты), чтобы вылечить это системно.", s: { TW: 3 } },
                { text: "Руками редактирую его ответ до нужного состояния.", s: { RA: 2, AJ: 1 } },
                { text: "Просто жму реролл, пока не выкинет что-то адекватное.", s: { RD: 2, PP: 1 } },
                { text: "Принимаю как есть и пытаюсь обыграть это в сюжете.", s: { FL: 2, PP: 1 } }
            ]
        },
        {
            t: "Насколько важен «Лорбук» (World Info) в твоих чатах?",
            a: [
                { text: "Крайне важен. Без структуры мир развалится.", s: { TW: 3 } },
                { text: "Заполняю только ключевые факты, чтобы не было путаницы.", s: { AJ: 2, TW: 1 } },
                { text: "Почти не пользуюсь, полагаюсь на импровизацию.", s: { PP: 2, RD: 1 } },
                { text: "Важен только для описания эстетики и атмосферы.", s: { RA: 2 } }
            ]
        },
        {
            t: "Твое отношение к NSFW контенту в ролевых?",
            a: [
                { text: "Это должно быть красиво, чувственно и с прелюдией.", s: { RA: 3, FL: 1 } },
                { text: "Главное — физиология и реализм, без лишних соплей.", s: { AJ: 3, RD: 1 } },
                { text: "Люблю эксперименты и необычные сценарии.", s: { PP: 2, RD: 2 } },
                { text: "Важна психологическая связь персонажей.", s: { TW: 2, FL: 2 } }
            ]
        },
        {
            t: "Что тебя больше всего бесит в ролевом процессе?",
            a: [
                { text: "Когда бот или сорол забывает детали лора или ломает характер.", s: { TW: 3, AJ: 1 } },
                { text: "Скука и отсутствие динамики в сюжете.", s: { RD: 3, PP: 1 } },
                { text: "Безвкусные описания и отсутствие стиля.", s: { RA: 3 } },
                { text: "Агрессивные или слишком жесткие повороты сюжета.", s: { FL: 3 } }
            ]
        },
        {
            t: "Как ты реагируешь на опечатки в ответах ИИ?",
            a: [
                { text: "Сразу исправляю, это мозолит глаза.", s: { RA: 2, TW: 2 } },
                { text: "Игнорирую, если смысл понятен.", s: { AJ: 3, RD: 1 } },
                { text: "Смеюсь, если опечатка создала забавный смысл.", s: { PP: 3 } },
                { text: "Немного расстраиваюсь, это портит погружение.", s: { FL: 2 } }
            ]
        },
        {
            t: "Твоя любимая часть создания новой карточки персонажа?",
            a: [
                { text: "Написание сложного системного промпта.", s: { TW: 3 } },
                { text: "Подбор идеального визуала и оформление.", s: { RA: 3 } },
                { text: "Придумывание странных привычек и шуток персонажу.", s: { PP: 3 } },
                { text: "Прописывание простой и понятной мотивации.", s: { AJ: 3 } }
            ]
        },
        // --- Блок Телеграм и общение ---
        {
            t: "Как ты ведешь себя в больших групповых чатах?",
            a: [
                { text: "Больше читаю, анализирую обстановку.", s: { FL: 2, TW: 2 } },
                { text: "Часто кидаю мемы и всякий треш.", s: { PP: 3, RD: 1 } },
                { text: "Пишу только тогда, когда есть что сказать по делу.", s: { AJ: 3 } },
                { text: "Стараюсь поддерживать активную беседу и быть в центре.", s: { RD: 2, RA: 1 } }
            ]
        },
        {
            t: "Твое отношение к кружочкам в ТГ?",
            a: [
                { text: "Обожаю! Это быстро и живо.", s: { PP: 2, RD: 2 } },
                { text: "Записываю, только если выгляжу безупречно.", s: { RA: 3 } },
                { text: "Почти не использую, текст надежнее.", s: { AJ: 2, TW: 1 } },
                { text: "Стесняюсь своего голоса или вида в кружочках.", s: { FL: 3 } }
            ]
        },
        {
            t: "Если в чате начинается токсичный срач...",
            a: [
                { text: "Попытаюсь всех помирить или перевести в шутку.", s: { FL: 2, PP: 2 } },
                { text: "Буду доказывать свою правоту фактами и логикой.", s: { TW: 3 } },
                { text: "Подброшу дров в огонь, если мне весело.", s: { RD: 2, PP: 1 } },
                { text: "Просто ливну из уведомлений, мне дорога моя нервная система.", s: { AJ: 2, RA: 1 } }
            ]
        },
        {
            t: "Твои закрепленные чаты (Pin). Что там?",
            a: [
                { text: "Рабочие/учебные чаты и важные каналы.", s: { TW: 3, AJ: 1 } },
                { text: "Чаты с лучшими друзьями и мемами.", s: { PP: 2, RD: 1 } },
                { text: "Личное «Избранное» с кучей эстетичных сохранёнок.", s: { RA: 3 } },
                { text: "Там пусто или только один самый близкий человек.", s: { FL: 2, AJ: 1 } }
            ]
        },
        {
            t: "Как ты отвечаешь на сообщения?",
            a: [
                { text: "Мгновенно, если я онлайн. Терпеть не могу висящие уведомления.", s: { RD: 3, TW: 1 } },
                { text: "Обдуманно, могу долго вынашивать идеальный ответ.", s: { TW: 2, RA: 2 } },
                { text: "Могу прочитать и забыть ответить на пару дней.", s: { AJ: 2, FL: 1 } },
                { text: "Заваливаю собеседника короткими сообщениями подряд.", s: { PP: 3 } }
            ]
        },
        {
            t: "Твой аватар в соцсетях.",
            a: [
                { text: "Стильный арт или очень удачное фото.", s: { RA: 3 } },
                { text: "Что-то мемное, ироничное или дефолтная картинка.", s: { PP: 2, AJ: 2 } },
                { text: "Персонаж, который мне сейчас близок по духу.", s: { FL: 2, TW: 1 } },
                { text: "Что-то динамичное, агрессивное или яркое.", s: { RD: 3 } }
            ]
        },
        {
            t: "Стикерпаки, которые ты используешь чаще всего.",
            a: [
                { text: "Максимально странные, постироничные или локальные мемы.", s: { PP: 3 } },
                { text: "Очень милые, уютные или с животными.", s: { FL: 3 } },
                { text: "Эстетичные, с красивой рисовкой.", s: { RA: 3 } },
                { text: "Стандартные эмодзи или классические паки.", s: { AJ: 3 } }
            ]
        },
        {
            t: "Ты заходишь в чат, а там 500+ непрочитанных сообщений.",
            a: [
                { text: "Прочитаю всё от корки до корки, чтобы быть в курсе.", s: { TW: 3 } },
                { text: "Просто нажму «прочитать всё» и пойду дальше.", s: { RD: 3, AJ: 1 } },
                { text: "Посмотрю последние 10 сообщений, чтобы понять суть.", s: { AJ: 2, PP: 1 } },
                { text: "Поищу глазами упоминания своего ника или важные мемы.", s: { RA: 1, PP: 1 } }
            ]
        },
        // --- Блок Жизнь и Быт (Перепроверенные баллы) ---
        {
            t: "Твой способ справляться со стрессом?",
            a: [
                { text: "Составление списков дел и наведение порядка.", s: { TW: 3, AJ: 1 } },
                { text: "Сон, одиночество, тишина.", s: { FL: 3 } },
                { text: "Физическая активность или видеоигры.", s: { RD: 3 } },
                { text: "Шопинг или уход за собой.", s: { RA: 3 } },
                { text: "Общение с друзьями и смех.", s: { PP: 3 } }
            ]
        },
        {
            t: "Как выглядит твое рабочее место (реальное или десктоп)?",
            a: [
                { text: "Всё по полочкам, ничего лишнего.", s: { TW: 3, AJ: 1 } },
                { text: "Творческий беспорядок, но мне уютно.", s: { RA: 2, FL: 1 } },
                { text: "Хаос, в котором я ориентируюсь на инстинктах.", s: { PP: 2, RD: 1 } },
                { text: "Главное, чтобы техника была мощной и быстрой.", s: { RD: 3 } }
            ]
        },
        {
            t: "Ты в магазине и видишь классную, но дорогую вещь.",
            a: [
                { text: "Куплю, если она безумно красивая. Живем один раз.", s: { RA: 3, PP: 1 } },
                { text: "Сначала оценю практичность и качество.", s: { AJ: 3, TW: 1 } },
                { text: "Буду долго сомневаться и в итоге уйду без неё.", s: { FL: 2, TW: 1 } },
                { text: "Возьму сразу, если она добавит мне статусности или крутости.", s: { RD: 2, RA: 1 } }
            ]
        },
        {
            t: "Твоя реакция на внезапное изменение планов.",
            a: [
                { text: "Раздражение. Я уже всё распланировал(а).", s: { TW: 3 } },
                { text: "Спокойствие. Бывает, подстроимся.", s: { AJ: 3, FL: 1 } },
                { text: "Азарт. Новые приключения!", s: { PP: 3, RD: 1 } },
                { text: "Легкий стресс, нужно время привыкнуть.", s: { FL: 2, RA: 1 } }
            ]
        },
        {
            t: "В компании друзей ты обычно тот, кто...",
            a: [
                { text: "Организует встречу и выбирает место.", s: { TW: 3, RD: 1 } },
                { text: "Слушает и поддерживает всех эмоционально.", s: { FL: 3 } },
                { text: "Шутит и создает атмосферу праздника.", s: { PP: 3 } },
                { text: "Трезво оценивает ситуацию и дает советы.", s: { AJ: 3 } }
            ]
        },
        {
            t: "Как ты относишься к критике в свой адрес?",
            a: [
                { text: "Анализирую, если она конструктивна — принимаю.", s: { TW: 2, AJ: 2 } },
                { text: "Обижаюсь, даже если не показываю вида.", s: { FL: 3, RA: 1 } },
                { text: "Спорю до последнего, защищая свою позицию.", s: { RD: 3 } },
                { text: "Перевожу в иронию, чтобы не было больно.", s: { PP: 3 } }
            ]
        },
        {
            t: "Идеальный подарок для тебя это...",
            a: [
                { text: "Что-то полезное, что я давно хотел(а).", s: { AJ: 3, TW: 1 } },
                { text: "Что-то очень красивое или статусное.", s: { RA: 3 } },
                { text: "Впечатление: билет на концерт, поездка.", s: { PP: 3, RD: 1 } },
                { text: "Что-то сделанное своими руками или очень личное.", s: { FL: 3 } }
            ]
        },
        {
            t: "Твое отношение к спорту/физическим нагрузкам?",
            a: [
                { text: "Люблю побеждать и соревноваться.", s: { RD: 3 } },
                { text: "Занимаюсь для здоровья и дисциплины.", s: { TW: 2, AJ: 2 } },
                { text: "Для меня это способ выглядеть лучше.", s: { RA: 3 } },
                { text: "Спорт — это весело, если с друзьями.", s: { PP: 2 } },
                { text: "Предпочитаю что-то спокойное, вроде йоги или прогулок.", s: { FL: 3 } }
            ]
        },
        // --- Дополнительные 24 вопроса для точности ---
        {
            t: "Ты случайно разбил(а) любимую кружку.",
            a: [
                { text: "Очень расстроюсь, у неё была душа.", s: { FL: 3, RA: 1 } },
                { text: "Соберу осколки и сразу куплю новую, еще лучше.", s: { RD: 2, RA: 2 } },
                { text: "Просто уберу мусор. Это всего лишь вещь.", s: { AJ: 3 } },
                { text: "Попробую склеить, если она была уникальной.", s: { TW: 2, RA: 1 } }
            ]
        },
        {
            t: "Как ты выбираешь фильм на вечер?",
            a: [
                { text: "Читаю рецензии и смотрю рейтинги.", s: { TW: 3 } },
                { text: "Выбираю по эстетике трейлера или актерам.", s: { RA: 3 } },
                { text: "Ткну в первый попавшийся экшен.", s: { RD: 2, PP: 1 } },
                { text: "Пересмотрю что-то старое и уютное.", s: { FL: 2, AJ: 1 } }
            ]
        },
        {
            t: "Твоя реакция на несправедливость в сторону незнакомого человека?",
            a: [
                { text: "Вступлюсь, если чувствую в себе силы.", s: { RD: 3, AJ: 1 } },
                { text: "Буду долго переживать внутри, но могу побояться вмешаться.", s: { FL: 3 } },
                { text: "Постараюсь решить конфликт логическими доводами.", s: { TW: 3 } },
                { text: "Привлеку внимание окружающих шумом или шутками.", s: { PP: 2 } }
            ]
        },
        {
            t: "Что ты сделаешь, если найдешь на улице кошелек с деньгами?",
            a: [
                { text: "Попробую найти владельца любой ценой.", s: { AJ: 3, FL: 1 } },
                { text: "Отнесу в полицию, чтобы не брать ответственность.", s: { TW: 3 } },
                { text: "Заберу себе, это подарок судьбы.", s: { RD: 2, PP: 1 } },
                { text: "Подожду рядом какое-то время, вдруг за ним вернутся.", s: { FL: 2 } }
            ]
        },
        {
            t: "Как ты относишься к моде?",
            a: [
                { text: "Слежу за трендами и стараюсь им соответствовать.", s: { RA: 3 } },
                { text: "Мне важно, чтобы одежда была удобной и качественной.", s: { AJ: 3 } },
                { text: "Создаю свой уникальный и странный стиль.", s: { PP: 3 } },
                { text: "Одеваюсь так, чтобы не привлекать лишнего внимания.", s: { FL: 3 } }
            ]
        },
        {
            t: "Твой идеальный отпуск?",
            a: [
                { text: "Поход в горы или активный тур.", s: { RD: 3, AJ: 1 } },
                { text: "Тур по музеям и библиотекам Европы.", s: { TW: 3 } },
                { text: "Пятизвездочный отель и спа.", s: { RA: 3 } },
                { text: "Шумный фестиваль или Диснейленд.", s: { PP: 3 } },
                { text: "Домик в лесу у озера.", s: { FL: 3 } }
            ]
        },
        {
            t: "Как ты ведешь себя, когда болеешь?",
            a: [
                { text: "Строго соблюдаю все рекомендации врачей.", s: { TW: 3 } },
                { text: "Ною и требую к себе повышенного внимания.", s: { RA: 2, PP: 1 } },
                { text: "Игнорирую симптомы и продолжаю работать/играть.", s: { RD: 3, AJ: 1 } },
                { text: "Тихо лежу под одеялом и много сплю.", s: { FL: 3 } }
            ]
        },
        {
            t: "Твое отношение к животным?",
            a: [
                { text: "Обожаю всех, они лучше людей.", s: { FL: 3 } },
                { text: "Люблю только породистых и красивых.", s: { RA: 3 } },
                { text: "Животные должны приносить пользу (охранять, ловить мышей).", s: { AJ: 3 } },
                { text: "Мне нравится с ними играть, но лень ухаживать.", s: { PP: 2, RD: 1 } }
            ]
        },
        {
            t: "Что ты выберешь: электронную книгу или бумажную?",
            a: [
                { text: "Бумажную. Обожаю запах и тактильность.", s: { RA: 2, FL: 1 } },
                { text: "Электронную. Это практично и вместительно.", s: { TW: 3, AJ: 1 } },
                { text: "Слушаю аудиокниги на х2 скорости.", s: { RD: 3, PP: 1 } },
                { text: "Читаю только комиксы или мангу.", s: { PP: 2 } }
            ]
        },
        {
            t: "Как ты относишься к приготовлению еды?",
            a: [
                { text: "Готовлю строго по рецепту, взвешивая граммы.", s: { TW: 3 } },
                { text: "Для меня это творчество, всегда импровизирую.", s: { PP: 3, RA: 1 } },
                { text: "Готовлю быстро, просто чтобы не быть голодным.", s: { AJ: 3, RD: 1 } },
                { text: "Люблю красиво сервировать стол, даже если ем один(а).", s: { RA: 3 } }
            ]
        },
        {
            t: "Твой стиль в видеоиграх?",
            a: [
                { text: "Исследую каждый угол и читаю все записки.", s: { TW: 3, FL: 1 } },
                { text: "Лезу в самый центр драки, не глядя на ХП.", s: { RD: 3, PP: 1 } },
                { text: "Играю в симуляторы жизни или фермы.", s: { AJ: 2, FL: 2 } },
                { text: "Выбираю персонажа по внешности и скинам.", s: { RA: 3 } }
            ]
        },
        {
            t: "Ты выиграл(а) в лотерею крупную сумму. Что сделаешь?",
            a: [
                { text: "Инвестирую или положу в банк под проценты.", s: { TW: 3, AJ: 1 } },
                { text: "Раздам долги и помогу семье/друзьям.", s: { AJ: 2, FL: 2 } },
                { text: "Устрою грандиозную вечеринку.", s: { PP: 3 } },
                { text: "Куплю всё то роскошное, о чем мечтал(а).", s: { RA: 3 } }
            ]
        },
        {
            t: "Как ты относишься к сплетням?",
            a: [
                { text: "Терпеть не могу, это низко.", s: { AJ: 3, TW: 1 } },
                { text: "Иногда интересно послушать, но сам(а) не разношу.", s: { FL: 2, RA: 1 } },
                { text: "Обожаю быть в курсе всех интриг.", s: { RA: 2, PP: 1 } },
                { text: "Мне просто всё равно на чужую жизнь.", s: { RD: 3 } }
            ]
        },
        {
            t: "Твое отношение к порядку в ванной комнате?",
            a: [
                { text: "Куча баночек, кремов и парфюма в идеальном порядке.", s: { RA: 3 } },
                { text: "Только мыло и зубная щетка. Минимализм.", s: { AJ: 3 } },
                { text: "Постоянно что-то разлито или разбросано.", s: { PP: 2, RD: 1 } },
                { text: "Всё расставлено по частоте использования.", s: { TW: 3 } }
            ]
        },
        {
            t: "Ты пришел(а) на вечеринку, где никого не знаешь.",
            a: [
                { text: "Буду стоять в углу с телефоном.", s: { FL: 3, TW: 1 } },
                { text: "Пойду знакомиться первым(ой), я люблю людей.", s: { PP: 3, RD: 1 } },
                { text: "Найду хозяина дома и буду общаться с ним.", s: { AJ: 2 } },
                { text: "Оценю обстановку и выберу самую интересную группу людей.", s: { RA: 2, TW: 1 } }
            ]
        },
        {
            t: "Как ты ведешь споры?",
            a: [
                { text: "Засыпаю оппонента аргументами.", s: { TW: 3 } },
                { text: "Начинаю злиться и переходить на крик.", s: { RD: 3 } },
                { text: "Пытаюсь найти компромисс, чтобы никто не обиделся.", s: { FL: 3 } },
                { text: "Иронизирую и высмеиваю позицию другого.", s: { PP: 2, RA: 1 } }
            ]
        },
        {
            t: "Твоя главная слабость?",
            a: [
                { text: "Излишняя тревожность и зацикленность.", s: { TW: 3, FL: 1 } },
                { text: "Упрямство и нежелание слушать других.", s: { AJ: 3, RD: 1 } },
                { text: "Вспыльчивость.", s: { RD: 3 } },
                { text: "Зависимость от чужого мнения.", s: { RA: 3, FL: 1 } },
                { text: "Легкомысленность.", s: { PP: 3 } }
            ]
        },
        {
            t: "Как ты выбираешь подарок другу?",
            a: [
                { text: "Спрошу напрямую, что ему нужно.", s: { AJ: 3 } },
                { text: "Буду долго искать что-то со смыслом.", s: { TW: 2, FL: 2 } },
                { text: "Куплю что-то эффектное и дорогое.", s: { RA: 3 } },
                { text: "Выберу самую смешную штуку в магазине.", s: { PP: 3 } }
            ]
        },
        {
            t: "Твое отношение к уборке?",
            a: [
                { text: "Медитативный процесс, люблю чистоту.", s: { RA: 2, TW: 1 } },
                { text: "Ненавижу, делаю только когда уже совсем грязно.", s: { RD: 3, PP: 1 } },
                { text: "Убираюсь регулярно по графику.", s: { TW: 2, AJ: 2 } },
                { text: "Уборка — это повод включить музыку и танцевать с шваброй.", s: { PP: 3 } }
            ]
        },
        {
            t: "Что ты сделаешь, если увидишь НЛО?",
            a: [
                { text: "Попробую сфотографировать и задокументировать.", s: { TW: 3, AJ: 1 } },
                { text: "Испугаюсь и спрячусь.", s: { FL: 3 } },
                { text: "Попробую выйти на контакт.", s: { PP: 3, RD: 1 } },
                { text: "Подумаю, что это секретная разработка военных.", s: { AJ: 2, TW: 1 } }
            ]
        },
        {
            t: "Как ты относишься к старым вещам?",
            a: [
                { text: "Легко выбрасываю всё ненужное.", s: { RD: 3, AJ: 1 } },
                { text: "Храню всё, что связано с воспоминаниями.", s: { FL: 3, RA: 1 } },
                { text: "Пытаюсь найти им новое применение (апсайклинг).", s: { RA: 2, TW: 1 } },
                { text: "У меня просто гора хлама, до которого не доходят руки.", s: { PP: 2 } }
            ]
        },
        {
            t: "Твоя реакция на комплименты?",
            a: [
                { text: "Смущаюсь и отрицаю.", s: { FL: 3 } },
                { text: "Принимаю как должное.", s: { RA: 3, RD: 1 } },
                { text: "Благодарю и говорю ответный комплимент.", s: { AJ: 2, TW: 1 } },
                { text: "Отшучиваюсь.", s: { PP: 3 } }
            ]
        },
        {
            t: "Что тебя может заставить плакать?",
            a: [
                { text: "Грустный фильм или книга.", s: { FL: 3, RA: 1 } },
                { text: "Собственное бессилие или провал.", s: { RD: 2, TW: 2 } },
                { text: "Обида со стороны близкого человека.", s: { FL: 2, AJ: 2 } },
                { text: "Ничего, я редко плачу.", s: { AJ: 3, RD: 1 } }
            ]
        },
        {
            t: "Твой девиз по жизни?",
            a: [
                { text: "Знание — сила.", s: { TW: 3 } },
                { text: "Честность превыше всего.", s: { AJ: 3 } },
                { text: "Быстрее, выше, сильнее.", s: { RD: 3 } },
                { text: "Красота спасет мир.", s: { RA: 3 } },
                { text: "Доброта — это магия.", s: { FL: 3 } },
                { text: "Живи весело!", s: { PP: 3 } }
            ]
        }
    ];

    const characters = {
        TW: { name: "Твайлайт Спаркл", desc: "Ты — Аналитик и Организатор. Твой разум работает как часы. Ты ценишь структуру, логику и знания. В ролевых ты тот, кто следит за лором, а в жизни — тот, у кого всегда есть план на случай апокалипсиса. Твоя сила в интеллекте, но не забывай иногда давать себе право на ошибку.", img: "https://static.wikia.nocookie.net/mlp/images/5/5f/Twilight_Sparkle_ID_S4E11.png" },
        AJ: { name: "Эпплджек", desc: "Ты — Реалист и Опора. Ты прямой, честный и надежный человек. Тебе чужды интриги и лишние украшательства. Ты ценишь труд и верность. В интернете ты лаконичен, а в жизни на тебя всегда можно положиться. Ты — тот самый здравый смысл, которого так не хватает окружающим.", img: "https://static.wikia.nocookie.net/mlp/images/d/d8/Applejack_S01E13_cropped.png" },
        RD: { name: "Рэйнбоу Дэш", desc: "Ты — Двигатель и Игрок. Скорость, драйв и амбиции — это твоё. Ты не терпишь скуку и медлительность. Ты можешь быть вспыльчивым, но твоя преданность друзьям не знает границ. Ты всегда готов(а) к вызову и любишь быть первым(ой) во всем, за что берешься.", img: "https://static.wikia.nocookie.net/mlp/images/4/4b/Rainbow_Dash_Wonderbolt_fantasy_cropped_S1E3.png" },
        RA: { name: "Рэрити", desc: "Ты — Эстет и Творец. Для тебя важно, чтобы мир вокруг был прекрасным. Ты обладаешь тонким вкусом и вниманием к деталям. Твое самовыражение проявляется во всем: от стиля письма до аватарок. Ты щедр(а) и любишь дарить красоту, хотя иногда бываешь слишком требователен(льна) к себе и другим.", img: "https://static.wikia.nocookie.net/mlp/images/d/d1/Rarity_standing_S1E19_CROPPED.png" },
        FL: { name: "Флаттершай", desc: "Ты — Эмпат и Хранитель уюта. Ты чувствительный, добрый и тихий человек. Тебе важно душевное спокойствие — своё и окружающих. Ты избегаешь конфликтов и обладаешь огромным терпением. Твоя сила в тихой доброте, которая способна растопить даже самое холодное сердце.", img: "https://static.wikia.nocookie.net/mlp/images/0/0c/Fluttershy_ID_S1E17.png" },
        PP: { name: "Пинки Пай", desc: "Ты — Энтузиаст и Оптимист. Твоя энергия заразительна, а фантазия не имеет границ. Ты видишь повод для смеха там, где другие его не замечают. Ты живешь моментом и любишь радовать людей. Твой хаос — созидательный, и без тебя этот мир был бы гораздо более серым местом.", img: "https://static.wikia.nocookie.net/mlp/images/b/b2/Pinkie_Pie_ID_S4E11.png" }
    };

    let currentQuestion = 0;
    let scores = { TW: 0, AJ: 0, RD: 0, RA: 0, FL: 0, PP: 0 };

    function showQuestion() {
        if (currentQuestion >= questions.length) { showResult(); return; }
        const q = questions[currentQuestion];
        document.getElementById('question').innerText = `${currentQuestion + 1}/${questions.length}. ${q.t}`;
        document.getElementById('progress').style.width = `${(currentQuestion / questions.length) * 100}%`;
        const optsDiv = document.getElementById('options');
        optsDiv.innerHTML = '';
        const shuffled = [...q.a].sort(() => Math.random() - 0.5);
        shuffled.forEach(ans => {
            const btn = document.createElement('button');
            btn.innerText = ans.text;
            btn.onclick = () => { for (let k in ans.s) scores[k] += ans.s[k]; currentQuestion++; showQuestion(); };
            optsDiv.appendChild(btn);
        });
    }

    function showResult() {
        document.getElementById('quiz-ui').classList.add('hidden');
        document.getElementById('result-ui').classList.remove('hidden');
        let max = -1, winner = 'TW';
        for (let k in scores) if (scores[k] > max) { max = scores[k]; winner = k; }
        const char = characters[winner];
        document.getElementById('result-title').innerText = char.name;
        document.getElementById('result-image').src = char.img;
        document.getElementById('result-desc').innerText = char.desc;
        
        let statsHtml = '<strong>Ваша совместимость:</strong><br>';
        Object.entries(scores).sort((a,b)=>b[1]-a[1]).forEach(([k, v]) => {
            const pct = Math.round((v / max) * 100);
            statsHtml += `<div class="stat-row"><span>${characters[k].name.split(' ')[0]}</span><span>${pct}%</span></div>
            <div style="background:#444; height:4px; width:100%; margin-bottom:8px;"><div style="background:var(--accent); height:100%; width:${pct}%"></div></div>`;
        });
        document.getElementById('stats-box').innerHTML = statsHtml;
    }

    showQuestion();
</script>
</body>
</html>
